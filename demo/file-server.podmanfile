FROM rust:latest

VOLUME ["/usr/share/www/"]
EXPOSE [3000]

COPY /home/taylor/workspace/file-server/demo/file-server.json /usr/share/
ADD /home/taylor/workspace/file-server/v0.1/config /usr/local/config
ADD /home/taylor/workspace/file-server/v0.1/file-server /usr/local/file-server

RUN cargo install --path /usr/local/file-server/v0.1/file-server/

CMD ["file-server", "/usr/share/file-server.json"]
